allprojects  {
  apply plugin: 'maven'
  group = 'com.purplepip'
  version = '1.0.0-SNAPSHOT'

  task hello {
    doLast { task ->
      println "Hello, ${task.project.name}!"
    }
  }
}

subprojects {
  apply plugin: 'java'
  sourceCompatibility = 9
  targetCompatibility = 9
  tasks.withType(JavaCompile) {
  	options.encoding = 'UTF-8'
  }

  repositories {
    mavenLocal()
    maven { url "https://packagecloud.io/purplepip/releases/maven2" }
    maven { url "http://repo.maven.apache.org/maven2" }
  }

  configurations.all {

  }

  hello {
    doLast { task ->
      println "... subproject : ${task.project.name}"
    }
  }
}

task helloWorld {
  doLast { task ->
    println "Hello, World!"
  }
}
helloWorld.dependsOn hello
